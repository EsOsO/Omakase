# git-cliff ~ configuration file
# https://git-cliff.org/docs/configuration

[changelog]
sort = "desc"
repository = "https://github.com/EsOsO/Omakase"

header = """
# Changelog

All notable changes to **Omakase** will be documented in this file.

This project follows [Semantic Versioning](https://semver.org/) and uses [Conventional Commits](https://www.conventionalcommits.org/).

## What's Tracked

- âœ¨ **New features and services** - Minor version bumps
- ðŸ©¹ **Bug fixes and patches** - Patch version bumps
- ðŸš¨ **Breaking changes** - Major version bumps
- ðŸ“Œ **Dependency updates** - Docker image updates (digest, patch, minor, major)
- ðŸ”’ **Security updates** - Critical security fixes
- ðŸ“– **Documentation** - Significant documentation improvements

Each section is organized by change type and service scope for easy navigation.

---

"""

body = """
{% if version %}\
    ## {{ version | trim_start_matches(pat="v") }} - {{ timestamp | date(format="%Y-%m-%d") }}
{% else %}\
    ## Unreleased
{% endif %}\
{% for group, commits in commits | group_by(attribute="group") %}
    ### {{ group | upper_first }}
    {% for commit in commits %}
        - {{ commit.scope }} {{ commit.message | upper_first }}\
    {% endfor %}
{% endfor %}\n
"""

footer = """
---

Generated by [git-cliff](https://github.com/orhun/git-cliff)
"""

trim = true

[bump]
# Versioning mode: bump based on commit type
auto = true

# Ignore documentation chores
[git]
conventional_commits = true
filter_unconventional = true

commit_parsers = [
  { message = "^chore\\(doc\\)", skip = true },
  { message = "^fix", group = "ðŸ©¹/ðŸ“Œ Patch/Digest Updates" },
  { message = "^feat", group = "âœ¨ Minor Updates" },
  { message = "^feat!", group = "ðŸš¨ Breaking Updates" },
  { message = "^chore", group = "Miscellaneous Tasks" },
]

# Define commit categories â†’ optional if you just want scopes
[[changelog.commit_types]]
type = "major"
section = "ðŸš¨ Breaking Changes"
bump = "major"

[[changelog.commit_types]]
type = "minor"
section = "âœ¨ Features"
bump = "minor"

[[changelog.commit_types]]
type = "patch"
section = "ðŸ©¹ Fixes"
bump = "patch"

[[changelog.commit_types]]
type = "digest"
section = "ðŸ“Œ Dependency updates"
bump = "patch"
